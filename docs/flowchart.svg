<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   width="900"
   height="1200"
   viewBox="0 0 900 1200"
   version="1.1"
   id="svg33"
   sodipodi:docname="flowchart.svg"
   inkscape:export-filename="flowchart.png"
   inkscape:export-xdpi="96"
   inkscape:export-ydpi="96"
   inkscape:version="1.3.2 (091e20e, 2023-11-25, custom)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview33"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.5775"
     inkscape:cx="450.07924"
     inkscape:cy="447.86054"
     inkscape:window-width="3840"
     inkscape:window-height="2089"
     inkscape:window-x="3632"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg33" />
  <defs
     id="defs1">
    <marker
       id="arrow"
       markerWidth="10"
       markerHeight="10"
       refX="8"
       refY="3"
       orient="auto"
       markerUnits="strokeWidth">
      <path
         d="M0,0 L0,6 L9,3 z"
         fill="#2c3e50"
         id="path1" />
    </marker>
    <style
       id="style1"><![CDATA[
      .box { fill:#ecf0f1; stroke:#2c3e50; stroke-width:2; rx:10; ry:10; }
      .diamond { fill:#ecf0f1; stroke:#2c3e50; stroke-width:2; }
      .text { font-family: Arial, Helvetica, sans-serif; font-size:16px; fill:#2c3e50; }
      .title { font-weight:bold; }
      .arrow { stroke:#2c3e50; stroke-width:2; fill:none; marker-end:url(#arrow); }
    ]]></style>
  </defs>
  <!-- Title -->
  <text
     x="450"
     y="50"
     class="text title"
     text-anchor="middle"
     id="text1">Shema poteka: vizualizacija toka vode</text>
  <!-- Start -->
  <ellipse
     cx="450"
     cy="100"
     rx="80"
     ry="30"
     fill="#ecf0f1"
     stroke="#2c3e50"
     stroke-width="2"
     id="ellipse1" />
  <text
     x="450"
     y="105"
     class="text"
     text-anchor="middle"
     id="text2">Začetek</text>
  <!-- Config -->
  <rect
     x="275"
     y="160"
     width="350"
     height="70"
     class="box"
     id="rect2" />
  <text
     x="450"
     y="185"
     class="text title"
     text-anchor="middle"
     id="text3">Inicializiraj nastavitve (Config)</text>
  <text
     x="450"
     y="205"
     class="text"
     text-anchor="middle"
     id="text4">resolution, steps, dt, strength, fps, live_view</text>
  <!-- Dye init -->
  <rect
     x="275"
     y="260"
     width="350"
     height="70"
     class="box"
     id="rect4" />
  <text
     x="450"
     y="285"
     class="text title"
     text-anchor="middle"
     id="text5">Ustvari začetno barvilo (dye)</text>
  <text
     x="450"
     y="305"
     class="text"
     text-anchor="middle"
     id="text6">modri odtenek + šum + vinjeta</text>
  <!-- Loop label -->
  <rect
     x="175"
     y="360"
     width="550"
     height="60"
     class="box"
     id="rect6" />
  <text
     x="450"
     y="390"
     class="text title"
     text-anchor="middle"
     id="text7">Zanka po korakih (step = 0 .. steps-1)</text>
  <!-- Velocity field -->
  <rect
     x="225"
     y="450"
     width="450"
     height="70"
     class="box"
     id="rect7" />
  <text
     x="450"
     y="475"
     class="text title"
     text-anchor="middle"
     id="text8">Izračunaj hitrostno polje v(x,y,t)</text>
  <text
     x="450"
     y="495"
     class="text"
     text-anchor="middle"
     id="text9">curl(ψ), Gaussovo glajenje</text>
  <!-- Advect -->
  <rect
     x="225"
     y="540"
     width="450"
     height="70"
     class="box"
     id="rect9" />
  <text
     x="450"
     y="565"
     class="text title"
     text-anchor="middle"
     id="text10">Advekcija barvila (semi-Lagrange)</text>
  <text
     x="450"
     y="585"
     class="text"
     text-anchor="middle"
     id="text11">bilinearna interpolacija</text>
  <!-- Dissipation -->
  <rect
     x="225"
     y="630"
     width="450"
     height="70"
     class="box"
     id="rect11" />
  <text
     x="450"
     y="655"
     class="text title"
     text-anchor="middle"
     id="text12">Dušenje in barvno ravnotežje</text>
  <text
     x="450"
     y="675"
     class="text"
     text-anchor="middle"
     id="text13">dye = 0.995 * dye + 0.005 * base_dye</text>
  <!-- Live view decision -->
  <polygon
     points="450,740 510,780 450,820 390,780"
     class="diamond"
     id="polygon13" />
  <text
     x="450"
     y="785"
     class="text title"
     text-anchor="middle"
     id="text14">live_view?</text>
  <!-- Live view update -->
  <rect
     x="525"
     y="740"
     width="250"
     height="70"
     class="box"
     id="rect14" />
  <text
     x="650"
     y="770"
     class="text"
     text-anchor="middle"
     id="text15">Osveži okno</text>
  <text
     x="650"
     y="790"
     class="text"
     text-anchor="middle"
     id="text16">(Matplotlib/OpenCV)</text>
  <!-- Append frame -->
  <rect
     x="125"
     y="740"
     width="250"
     height="70"
     class="box"
     id="rect16" />
  <text
     x="250"
     y="770"
     class="text"
     text-anchor="middle"
     id="text17">Dodaj sličico v seznam</text>
  <!-- Loop back -->
  <rect
     x="225"
     y="860"
     width="450"
     height="60"
     class="box"
     id="rect17" />
  <text
     x="450"
     y="895"
     class="text"
     text-anchor="middle"
     id="text18">Naslednji korak (step ← step + 1)</text>
  <!-- Save GIF -->
  <rect
     x="275"
     y="950"
     width="350"
     height="70"
     class="box"
     id="rect18" />
  <text
     x="450"
     y="975"
     class="text title"
     text-anchor="middle"
     id="text19">Shrani GIF</text>
  <text
     x="450"
     y="995"
     class="text"
     text-anchor="middle"
     id="text20">imageio (Py) / Magick++ (C++)</text>
  <!-- End -->
  <ellipse
     cx="450"
     cy="1070"
     rx="70"
     ry="28"
     fill="#ecf0f1"
     stroke="#2c3e50"
     stroke-width="2"
     id="ellipse20" />
  <text
     x="450"
     y="1075"
     class="text"
     text-anchor="middle"
     id="text21">Konec</text>
  <!-- Arrows vertical -->
  <line
     x1="450"
     y1="130"
     x2="450"
     y2="160"
     class="arrow"
     id="line21" />
  <line
     x1="450"
     y1="230"
     x2="450"
     y2="260"
     class="arrow"
     id="line22" />
  <line
     x1="450"
     y1="330"
     x2="450"
     y2="360"
     class="arrow"
     id="line23" />
  <line
     x1="450"
     y1="420"
     x2="450"
     y2="450"
     class="arrow"
     id="line24" />
  <line
     x1="450"
     y1="520"
     x2="450"
     y2="540"
     class="arrow"
     id="line25" />
  <line
     x1="450"
     y1="610"
     x2="450"
     y2="630"
     class="arrow"
     id="line26" />
  <line
     x1="450"
     y1="700"
     x2="450"
     y2="740"
     class="arrow"
     id="line27" />
  <!-- Decision branches -->
  <line
     x1="510"
     y1="780"
     x2="525"
     y2="775"
     class="arrow"
     id="line28" />
  <line
     x1="390"
     y1="780"
     x2="375"
     y2="775"
     class="arrow"
     id="line29" />
  <!-- Merge to loop next -->
  <line
     x1="650"
     y1="810"
     x2="650"
     y2="860"
     class="arrow"
     id="line30" />
  <line
     x1="250"
     y1="810"
     x2="250"
     y2="860"
     class="arrow"
     id="line31" />
  <!-- From loop next back to velocity (loop arc) -->
  <path
     d="M450,920 C450,930 450,930 450,940"
     stroke="#2c3e50"
     stroke-width="2"
     fill="none"
     id="path31" />
  <line
     x1="450"
     y1="920"
     x2="450"
     y2="950"
     class="arrow"
     id="line32" />
  <!-- From save GIF to end -->
  <line
     x1="450"
     y1="1020"
     x2="450"
     y2="1042"
     class="arrow"
     id="line33" />
</svg>
